<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Hoteleaseali · Panel</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="icon" href="../img/logo.png">
</head>
<body>
<header>
  <div class="container header-inner">
    <a class="brand" href="../index.html"><img src="../img/logo.png" alt="">Hoteleaseali</a>
    <nav class="nav"><a href="../index.html#modulos">Módulos</a><a href="#" id="logout" class="btn ghost" style="padding:6px 10px">Cerrar sesión</a></nav>
  </div>
</header>

<main class="container" style="padding:32px 0">
  <div class="card" style="margin:auto">
    <h1>Bienvenido</h1>
    <p class="lead">Has iniciado sesión como <strong id="user-name"></strong> (<span id="user-email"></span>).</p>

    <section class="features" style="margin-top:12px">
      <article class="feature-card">
        <h3>Reservas</h3>
        <p>Gestiona disponibilidad y calendario.</p>
        <a class="btn ghost" href="./reservas.html">Abrir</a>
      </article>
      <article class="feature-card">
        <h3>Pagos</h3>
        <p>Emite comprobantes y conciliación.</p>
        <a class="btn ghost" href="./pagos.html">Abrir</a>
      </article>
      <article class="feature-card">
        <h3>Clientes</h3>
        <p>Historial y segmentación.</p>
        <a class="btn ghost" href="./clientes.html">Abrir</a>
      </article>
    </section>
  </div>
</main>

<footer><small>© 2025 Hoteleaseali</small></footer>

<script type="module" src="./firebase-init.js"></script>
<script type="module">
import { auth } from './firebase-init.js';
import { onAuthStateChanged, signOut }
  from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

const $ = (s) => document.querySelector(s);

onAuthStateChanged(auth, (user) => {
  if (!user) return location.href = './login.html';
  $('#user-email').textContent = user.email || '';
  $('#user-name').textContent  = user.displayName || 'usuario';
});

$('#logout')?.addEventListener('click', async (e) => {
  e.preventDefault();
  await signOut(auth);
});
</script>
  <script type="module" src="./firebase-init.js"></script>
</body>
</html>
